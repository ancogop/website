<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  
  <title>Local Representatives - Anderson County Republican Party</title>
  
  <!-- Basic SEO -->
  <meta name="description" content="Find your Local County, City, or School District Representative" />
  <meta name="keywords" content="Anderson County, Republican Party, Kansas, Conservative, Local Elections, Community Engagement" />
  <meta name="author" content="Anderson County Republican Party" />
  
  <!-- Favicon -->
  <link rel="icon" type="image/png" href="images\elephant.png" />
  <!-- Or you can use an ICO file -->
  <!-- <link rel="icon" href="favicon.ico" /> -->
  
  <!-- Font Awesome -->
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" rel="stylesheet" />
  
  <!-- Your CSS -->
  <link rel="stylesheet" href="style.css" />
  
  <!-- Optional: Open Graph tags for social media sharing -->
  <meta property="og:title" content="Anderson County Republican Party" />
  <meta property="og:description" content="Find your Local County, City, or School District Representative." />
  <meta property="og:type" content="website" />
  <meta property="og:url" content="https://ancogop.org/local-reps" />
  <meta property="og:image" content="https://ancogop.org/images/elephant.png" />
  
  <!-- Optional: Twitter Card tags -->
  <meta name="twitter:card" content="summary_large_image" />
  <meta name="twitter:title" content="Anderson County Republican Party" />
  <meta name="twitter:description" content="Find your Local County, City, or School District Representative." />
  <meta name="twitter:image" content="https://ancogop.org/images/elephant.png" />
</head>
<body>
  <header>
    <div class="top-bar">
      <div class="social-buttons" aria-label="Social Media Links">
        <a href="https://www.facebook.com/profile.php?id=61575765069116#" class="facebook" target="_blank" rel="noopener noreferrer" aria-label="Facebook">
          <i class="fab fa-facebook-f"></i>
        </a>
        <a href="https://x.com" class="x" target="_blank" rel="noopener noreferrer" aria-label="X (formerly Twitter)">
          <i class="fa-brands fa-x-twitter"></i>
        </a>
      </div>
      <h1>ANDERSON COUNTY REPUBLICAN PARTY</h1>
      <div class="donate">
        <a href="#">Donate</a>
      </div>
    </div>
    <nav>
      <a href="/">Home</a>
      <a href="about">About Us</a>
      <a href="documents">Documents</a>
      <a href="local-reps" aria-current="page">Local Representatives</a>
    </nav>
  </header>

  <main>
    <div class="header-with-search">
      <h2 class="page-title">Local Representatives</h2>
      <div class="table-controls">
        <input type="text" id="searchBox" class="header-search" placeholder="Search..." />
      </div>      
    </div>
    
    <div class="table-responsive">
      <table class="local-leaders-table" id="leadersTable" aria-label="Local Leaders Contact Information">
        <thead>
          <tr>
            <th>Name</th>
            <th>Position</th>
          </tr>
        </thead>
        <tbody>
          <!-- Keep all rows here -->
          <tr>
            <td>Wes Mcclain</td>
            <td>Sheriff</td>
          </tr>
          <tr>
            <td>Les McGhee</td>
            <td>County Commissioner - District 1</td>
          </tr>
          <tr>
            <td>Anthony "Spike" Mersman</td>
            <td>County Commissioner - District 2</td>
          </tr>
          <tr>
            <td>Michael Blaufuss</td>
            <td>County Commissioner - District 3</td>
          </tr>
          <tr>
            <td>Julie Wettstein</td>
            <td>County Clerk</td>
          </tr>
          <tr>
            <td>Steven R. Wilson</td>
            <td>County Attorney</td>
          </tr>
          <tr>
            <td>Adam Wilson</td>
            <td>County Appraiser</td>
          </tr>
          <tr>
            <td>Sandra J Baugher</td>
            <td>Register of Deeds</td>
          </tr>
          <!-- Add more rows as needed -->
        </tbody>
      </table>
      <div id="resultCount" class="result-count"></div>
    </div>
    
    <div class="pagination-wrapper">
      <div id="pagination" class="pagination-controls"></div>
      <div class="rows-wrapper">
        <select id="rowsPerPage" class="rows-per-page">
          <option value="5">5 per page</option>
          <option value="10" selected>10 per page</option>
          <option value="25">25 per page</option>
          <option value="50">50 per page</option>
        </select>
      </div>
    </div>    
    
    <script>
      document.addEventListener("DOMContentLoaded", function () {
        const table = document.getElementById("leadersTable");
        const tbody = table.querySelector("tbody");
        const searchInput = document.getElementById("searchBox");
        const rowsPerPageSelect = document.getElementById("rowsPerPage");
        const paginationContainer = document.getElementById("pagination");
    
        let currentPage = 1;
        let rowsPerPage = parseInt(rowsPerPageSelect.value);
        let sortColumnIndex = null;
        let sortAscending = true;
    
        // Save the original rows permanently
        const allRows = Array.from(tbody.querySelectorAll("tr"));
    
        function getFilteredRows() {
          const filter = searchInput.value.toLowerCase();
          return allRows.filter(row =>
            row.innerText.toLowerCase().includes(filter)
          );
        }
    
        function renderTablePage() {
          let rows = getFilteredRows();
    
          // Sort if applicable
          if (sortColumnIndex !== null) {
            rows.sort((a, b) => {
              const A = a.cells[sortColumnIndex].textContent.toLowerCase();
              const B = b.cells[sortColumnIndex].textContent.toLowerCase();
              return sortAscending ? A.localeCompare(B) : B.localeCompare(A);
            });
          }
    
          const totalPages = Math.ceil(rows.length / rowsPerPage);
          const start = (currentPage - 1) * rowsPerPage;
          const end = start + rowsPerPage;
          const visibleRows = rows.slice(start, end);
    
          // Clear tbody and append only visible rows
          tbody.innerHTML = "";
          visibleRows.forEach(row => tbody.appendChild(row));
    
          renderPagination(totalPages);

          // Update result count
          const resultCount = document.getElementById("resultCount");
          resultCount.textContent = `Showing ${Math.min(end, rows.length)} of ${rows.length} results`;
        }
    
        function renderPagination(totalPages) {
          paginationContainer.innerHTML = "";

          const maxButtons = window.innerWidth <= 500 ? 5 : 10; // Responsive: fewer on mobile
          const half = Math.floor(maxButtons / 2);
          let start = Math.max(1, currentPage - half);
          let end = Math.min(totalPages, start + maxButtons - 1);

          if (end - start < maxButtons - 1) {
            start = Math.max(1, end - maxButtons + 1);
          }
        
          // Previous Button
          if (currentPage > 1) {
            const prevBtn = document.createElement("button");
            prevBtn.textContent = "« Prev";
            prevBtn.addEventListener("click", () => {
              currentPage--;
              renderTablePage();
            });
            paginationContainer.appendChild(prevBtn);
          }
        
          // Page Buttons
          for (let i = start; i <= end; i++) {
            const btn = document.createElement("button");
            btn.textContent = i;
            btn.classList.toggle("active", i === currentPage);
            btn.addEventListener("click", () => {
              currentPage = i;
              renderTablePage();
            });
            paginationContainer.appendChild(btn);
          }
        
          // Next Button
          if (currentPage < totalPages) {
            const nextBtn = document.createElement("button");
            nextBtn.textContent = "Next »";
            nextBtn.addEventListener("click", () => {
              currentPage++;
              renderTablePage();
            });
            paginationContainer.appendChild(nextBtn);
          }
        }

        function sortTable(index) {
          if (sortColumnIndex === index) {
            sortAscending = !sortAscending;
          } else {
            sortColumnIndex = index;
            sortAscending = true;
          }
          currentPage = 1;
          renderTablePage();
        }
    
        // Hook up header clicks to sorting
        const headers = table.querySelectorAll("th");
        headers.forEach((th, index) => {
          th.style.cursor = "pointer";
          th.addEventListener("click", () => sortTable(index));
        });
    
        // Input events
        searchInput.addEventListener("input", () => {
          currentPage = 1;
          renderTablePage();
        });
    
        rowsPerPageSelect.addEventListener("change", () => {
          rowsPerPage = parseInt(rowsPerPageSelect.value);
          currentPage = 1;
          renderTablePage();
        });
    
        // Default: sort by Name (column 0)
        sortColumnIndex = 0;
        sortAscending = true;
        renderTablePage();
      });
    </script>       
  </main>

  <footer>
    <img src="images/elephant.png" alt="Republican Elephant" class="footer-elephant" />
    <p>© 2025 Anderson County Republican Party. All rights reserved.</p>
    <div class="donate">
      <a href="mailto:contact@ancogop.org">Contact Us</a>
    </div>
  </footer>
</body>
</html>
